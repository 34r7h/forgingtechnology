<div class="grid" ng-style="{display:'flex', flexFlow:'row wrap', justifyContent:'space-between'}"> <div class="dark-bg-rev" ng-show="metal.d.object[val.$value][val.$id].publish" ng-init="params[$index] = {}; params[$index][(metal.d.object[val.$value][val.$id].section || val.$value)] = val.$id" ng-style="{flex:'1 1 auto', display:'flex', flexDirection:'row', justifyContent:'space-between', width:'320px', margin:'6px', alignItems:'center', flexWrap:'wrap'}" ng-repeat="(key, val) in metal.d.array.posts | filter:{$value:'!media'}"> <div ng-style="{width:'100%', padding:'10px', display:'flex', justifyContent:'space-between'}"> <i>{{metal.d.object[val.$value][val.$id].section | uppercase}}</i> <a ng-style="{textAlign:'right'}" ng-href="{{'#!/'+metal.d.object[val.$value][val.$id].section+'/'+val.$id}}">{{metal.d.object[val.$value][val.$id].name}}</a> </div> <div ng-init="postThumb = metal.d.object[val.$value][val.$id].media[0] ? metal.a.get('https://sizzling-fire-2548.firebaseio.com/media/'+ metal.d.object.media[metal.d.object[val.$value][val.$id].media[0]].name.replace('.','`')+ '.json'): metal.a.get('https://sizzling-fire-2548.firebaseio.com/media/'+ metal.d.object.media[val.$id].name.replace('.','`')+ '.json')" ng-style="{width:'100%', position:'relative'}"> <div ng-style="{height:'320px'}"> <a ng-href="{{'#!/'+metal.d.object[val.$value][val.$id].section+'/'+val.$id}}"> <img ng-if="metal.d.object[val.$value][val.$id].media[0]" alt ng-src="{{postThumb ? postThumb.data.data: 'no image'}}" ng-style="{position:'absolute', height:'160px', width:'100%', objectFit:'cover'}"> <img ng-if="metal.d.object[val.$value][val.$id].media[0]" alt ng-src="{{metal.d.object.media[metal.d.object[val.$value][val.$id].media[0]].src}}" ng-style="{position:'absolute', height:'320px', width:'100%', objectFit:'cover', zIndex:10}"> </a> </div> <div ng-style="{padding:'10px'}"><p ng-style="{maxHeight:'160px', overflow:'hidden'}">{{metal.d.object[val.$value][val.$id].text}}</p> <a ng-href="{{'#!/'+metal.d.object[val.$value][val.$id].section+'/'+val.$id}}">Read More..</a></div> </div> </div> </div>