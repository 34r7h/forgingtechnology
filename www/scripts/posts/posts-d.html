<h1 ng-show="metal.d.object.site.headerImg" class="header-show-hide" ng-style="{display:'flex', height:'240px', width:'100%', position:'absolute', fontSize:'40px', alignItems:'center', justifyContent:'center', textShadow:'3px 3px 2px rgba(0,0,0,.6)', margin:0, zIndex:1000}"> {{metal.d.object.site.headerText}} </h1> <div ng-show="metal.d.object.site.headerImg" class="header-show-hide" ng-style="{position:'relative', height:'240px' }" ng-init="headerThumb ? headerThumb = metal.a.get('https://sizzling-fire-2548.firebaseio.com/media/'+ metal.d.object.media[metal.d.object.site.headerImg].name.replace('.','`') + '.json' ) : null"> <img ng-if="metal.d.object.site.headerImg" alt ng-src="{{headerThumb ? headerThumb.data.data: 'no image'}}" ng-style="{position:'absolute', height:'240px', width:'100%', objectFit:'cover'}"> <img ng-if="metal.d.object.site.headerImg" alt ng-src="{{metal.d.object.media[metal.d.object.site.headerImg].src}}" ng-style="{position:'absolute', height:'240px', width:'100%', objectFit:'cover', zIndex:10}"> </div> <div class="grid" ng-style="{display:'flex', flexFlow:'row wrap', justifyContent:'space-between'}"> <div class="dark-bg-rev" ng-show="metal.d.object[val.$value][val.$id].publish" ng-init="params[$index] = {}; params[$index][(metal.d.object[val.$value][val.$id].section || val.$value)] = val.$id" ng-style="{flex:'1 1 auto', display:'flex', flexDirection:'row', justifyContent:'space-between', width:'320px', margin:'6px', alignItems:'center', flexWrap:'wrap', background:'rgba(255,255,255,1)', opacity:.8, color:'#555'}" ng-repeat="(key, val) in metal.d.array.posts.slice().reverse() | filter:{$value:'!media'}"> <div ng-style="{width:'100%', padding:'10px', display:'flex', justifyContent:'space-between'}"> <span ng-style="{color:metal.d.object[val.$value][val.$id].section == 'services' ? '#43de9f' : metal.d.object[val.$value][val.$id].section == 'clients' ? '#5294cc' : metal.d.object[val.$value][val.$id].section == 'gallery' ? '#ffc27e' : '#ec2e42'}"> <i class="fa fa-{{metal.d.object[val.$value][val.$id].section == 'services' ? 'star' : metal.d.object[val.$value][val.$id].section == 'clients' ? 'users' : metal.d.object[val.$value][val.$id].section == 'gallery' ? 'image' : 'info'}}"></i> <b> {{metal.d.object[val.$value][val.$id].section | uppercase}}</b> </span> <a class="bling" ng-style="{textAlign:'right', color:'black'}" ng-href="{{'/'+metal.d.object[val.$value][val.$id].section+'/'+val.$id}}">{{metal.d.object[val.$value][val.$id].name | uppercase}}</a> </div> <div ng-init="postThumb = metal.d.object[val.$value][val.$id].media[0] ? metal.a.get('https://sizzling-fire-2548.firebaseio.com/media/'+ metal.d.object.media[metal.d.object[val.$value][val.$id].media[0]].name.replace('.','`')+ '.json'): metal.a.get('https://sizzling-fire-2548.firebaseio.com/media/'+ metal.d.object.media[val.$id].name.replace('.','`')+ '.json')" ng-style="{width:'100%', position:'relative', flex:'1 1 auto', flexBasis:'flex-start'}"> <div ng-if="metal.d.object[val.$value][val.$id].media[0]" ng-style="{borderTop: '6px solid', borderTopColor: metal.d.object[val.$value][val.$id].section == 'services' ? '#43de9f' : metal.d.object[val.$value][val.$id].section == 'clients' ? '#5294cc' : metal.d.object[val.$value][val.$id].section == 'gallery' ? '#ffc27e' : '#ec2e42', maxHeight:'480px', minHeight:'320px', overflow:'hidden'}"> <a ng-if="metal.d.object[val.$value][val.$id].section !== 'gallery'" ng-href="{{'/'+metal.d.object[val.$value][val.$id].section+'/'+val.$id}}"> <img ng-if="metal.d.object[val.$value][val.$id].media[0]" alt ng-src="{{postThumb ? postThumb.data.data: 'no image'}}" ng-style="{position:'absolute', height:'320px', width:'100%', objectFit:'cover'}"> <img ng-if="metal.d.object[val.$value][val.$id].media[0]" alt ng-src="{{metal.d.object.media[metal.d.object[val.$value][val.$id].media[0]].src}}" ng-style="{position:'absolute', height:'320px', width:'100%', objectFit:'cover', zIndex:10}"> </a> <a ng-if="metal.d.object[val.$value][val.$id].section === 'gallery'" ng-href="{{'/'+metal.d.object[val.$value][val.$id].section+'/'+val.$id}}" ng-style="{display:'flex', flexWrap:'wrap', position:'relative', justifyContent:'flex-start'}"> <div ng-init="!postThumb[$index] ? postThumb[$index] = metal.a.get('https://sizzling-fire-2548.firebaseio.com/media/'+ metal.d.object.media[file].name.replace('.','`') + '.json' ) : null" ng-repeat="(fileKey, file) in metal.d.object[val.$value][val.$id].media | limitTo:8" ng-style="{position:'relative', margin: '2px', objectFit: 'cover', flex:'1 1 160px', width:'160px', height: '160px',alignSelf: 'flex-start'}" ng-click="metal.s.full = false; metal.s.full[val.$value].src = metal.d.object.media[file].src; metal.s.full[val.$value].thumb = postThumb[$index].data.data"> <img ng-style="{position:'absolute', objectFit: 'cover', width:'100%', height: '160px'}" ng-show="postThumb[$index]" ng-src="{{postThumb[$index].data.data}}" alt> <img ng-style="{position:'absolute', objectFit: 'cover', width:'100%', height: '160px', zIndex:10}" ng-show="postThumb[$index]" ng-src="{{metal.d.object.media[file].src}}" alt> </div> </a> </div> <div ng-style="{padding:'10px'}"> <p ng-style="{maxHeight:metal.d.object[val.$value][val.$id].media[0] ? '160px' : '480px', overflow:'hidden', fontSize: metal.d.object[val.$value][val.$id].media[0] ? '20px' : '36px'}"> {{metal.d.object[val.$value][val.$id].text}} </p> <a class="{{metal.d.object[val.$value][val.$id].section == 'services' ? 'button' : metal.d.object[val.$value][val.$id].section == 'clients' ? 'save' : metal.d.object[val.$value][val.$id].section == 'gallery' ?'warning' : 'danger'}} sheen" ng-href="{{'/'+metal.d.object[val.$value][val.$id].section+'/'+val.$id}}">Read More..</a> </div> </div> </div> </div> <div ng-style="{width:'100%', position:'relative', marginBottom:'40px'}" ng-hide="metal.s.full[metal.s.params].src || !metal.d.object.media[metal.d.object.site.footerImg].src"> <b ng-style="{display:'flex', height:'160px', width:'100%', position:'absolute', padding:'0 25%', alignItems:'center', justifyContent:'center', textShadow:'3px 3px 2px rgba(0,0,0,.6)', textAlign:'center'}"> {{metal.d.object.site.footerText}} </b> <img ng-style="{width:'100%', height:'160px', objectFit:'cover'}" ng-src="{{metal.d.object.media[metal.d.object.site.footerImg].src}}" alt="metal.d.object.media[metal.d.object.site.footerImg].text"> </div>